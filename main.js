(()=>{"use strict";class t{constructor(t,e,n,i){this.task=t,this.description=e,this.priority=n,this.index=i,this.done=!1}getTaskName(){return this.task}getDesc(){return this.description}getPriority(){return this.priority}setTaskName(t){this.task=t}setDesc(t){this.description=t}setPriority(t){this.priority=t}}function e(t){let e=document.createElement("table");e.classList.add("taskTable");let s=document.createElement("tr"),a=document.createElement("th"),l=document.createElement("th");l.setAttribute("data",t.index),a.classList.add("taskName"),l.classList.add("taskPriority"),a.innerHTML=t.getTaskName()+'<i class="far fa-calendar-times"></i>';let c=a.lastChild;c.setAttribute("data",t.index),c.addEventListener("click",(function(){event.stopPropagation(),function(t){let e=t,n=o(document.getElementById("selectedProjectName").getAttribute("data"));e<n.tasks.length&&n.tasks.splice(e,1),i(n)}(t.index)})),l.textContent=t.getPriority(),l.classList.add(t.getPriority()),l.onclick=function(){!function(t){"low"==t.priority?t.priority="medium":"medium"==t.priority?t.priority="high":t.priority="low";let e=document.getElementById("selectedProjectName").getAttribute("data");r(d()[e],e)}(t)},a.onclick=n,s.appendChild(a),s.appendChild(l);let m=document.createElement("tr"),u=document.createElement("td"),h=document.createElement("td");return u.classList.add("taskDesc"),h.classList.add("date"),u.textContent=t.getDesc(),h.textContent="1/2/abc",function(t){o(document.getElementById("selectedProjectName").getAttribute("data")).tasks[t.lastChild.getAttribute("data")].done?t.classList.add("done"):t.classList.remove("done")}(a),m.appendChild(u),m.appendChild(h),e.appendChild(s),e.appendChild(m),e}function n(){let t=o(document.getElementById("selectedProjectName").getAttribute("data")).tasks[this.lastChild.getAttribute("data")];console.log(t),t.done=!t.done,1==t.done?this.classList.add("done"):this.classList.remove("done"),console.log(t)}function i(t){if(function(t){let e=0;for(let n of t.tasks)n.index=e,e++}(t),0==t.tasks.length)!function(){let t=document.getElementById("taskSection");t.innerHTML="";let e=document.createElement("div");e.innerHTML='<h2>Hurray you are free. <i class="fas fa-glass-cheers" style="margin-left: 1  em; color: gray;"></i></h2> You may want to delete this project, or consider adding more tasks if not finished <i class="far fa-laugh-beam"></i> . Best of Luck.<br><br><br>',t.appendChild(e)}();else{let n=document.getElementById("taskSection");n.innerHTML="";for(let i of t.tasks){let t=e(i);n.appendChild(t)}}}class s{constructor(t,e){this.projectName=t,this.tasks=[],this.index=e}getName(){return this.projectName}setName(t){this.projectName=t}addTodo(t){this.tasks.add(t)}}var a=[];function o(t){if(t>=0&&t<a.length)return a[t]}function d(){return a}function l(){let t=document.getElementById("projects");0==a.length?document.getElementById("selectedProjectName").textContent="No Project":r(a[0],0),t.innerHTML="";let e=0;for(let t of a){let n=c(t,e);e++,document.getElementById("projects").appendChild(n)}}function c(t,e){let n=document.createElement("div");n.textContent=t.getName(),n.setAttribute("data",e),n.classList.add("project"),n.onclick=function(){r(t,t.index)};let i=document.createElement("span");i.classList.add("trash"),i.onclick=function(){var t;t=e,a.splice(t,1),function(){let t=0;for(let e of a)e.index=t,t++}(),l()};let s=document.createElement("i");return s.classList.add("far"),s.classList.add("fa-trash-alt"),i.appendChild(s),n.appendChild(i),n}function r(t,e){if(null!=t&&null!=t||(t=o(e)),null!=e&&null!=e||(e=a.indexOf(t)),a.length>0&&a[e]==t){let n=document.getElementById("selectedProjectName");document.getElementById("showTaskForm").setAttribute("data",e),n.textContent=t.getName(),n.setAttribute("data",e),i(t)}}function m(e,n,i,s){let o=a[s],d=o.tasks.length,l=new t(e,n,i,d);o.tasks.push(l),r(o,s)}function u(){document.getElementById("input-todo").style.visibility="hidden"}!function(){let t=new s("Sample Project 1",0);a.push(t),m("Sample Task 1","This is a short and sweet description for the task","low",0),m("Sample Task 2","This is a short and sweet description for the task","medium",0),m("Sample Task 3","Description is optional","high",0),m("Sample Task 4","","Priority",0)}(),a.push(new s("Pro2",a.length)),a.push(new s("Pro3",a.length)),l(),document.getElementById("createProject").onclick=function(){let t=d(),e=document.getElementById("formProjectName");if(""==e.value)alert("Give your valuable project a name. Get creative");else{let n=new s(e.value,t.length);r(n),e.value="",t.push(n),l()}},document.getElementById("showTaskForm").onclick=function(){document.getElementById("input-todo").style.visibility="visible";let t=document.getElementById("showTaskForm").getAttribute("data");document.getElementById("submitForm").setAttribute("data",t)},document.getElementById("cancelForm").onclick=u,document.getElementById("submitForm").onclick=function(){let t=document.getElementById("taskNameInput"),e=document.getElementById("taskDescInput"),n=document.getElementById("priority");m(t.value,e.value,n.value,this.getAttribute("data")),function(){let t=document.getElementById("taskNameInput"),e=document.getElementById("taskDescInput"),n=document.getElementById("priority");e.value="",t.value="",n.value="low"}(),u()}})();