(()=>{"use strict";class t{constructor(t,e,n,i){this.task=t,this.description=e,this.priority=n,this.index=i}getTaskName(){return this.task}getDesc(){return this.description}getPriority(){return this.priority}setTaskName(t){this.task=t}setDesc(t){this.description=t}setPriority(t){this.priority=t}}function e(t){let e=document.createElement("table");e.classList.add("taskTable");let a=document.createElement("tr"),s=document.createElement("th"),d=document.createElement("th");d.setAttribute("data",t.index),s.classList.add("taskName"),d.classList.add("taskPriority"),s.innerHTML=t.getTaskName()+'<i class="far fa-calendar-times"></i>';let c=s.lastChild;c.setAttribute("data",t.index),c.addEventListener("click",(function(){!function(t){let e=t,n=l(document.getElementById("selectedProjectName").getAttribute("data"));e<n.tasks.length&&n.tasks.splice(e,1),i(n)}(t.index)})),d.textContent=t.getPriority(),d.classList.add(t.getPriority()),d.onclick=function(){!function(t){"low"==t.priority?t.priority="medium":"medium"==t.priority?t.priority="high":t.priority="low";let e=document.getElementById("selectedProjectName").getAttribute("data");r(o()[e],e)}(t)},s.onclick=n,a.appendChild(s),a.appendChild(d);let u=document.createElement("tr"),m=document.createElement("td"),h=document.createElement("td");return m.classList.add("taskDesc"),h.classList.add("date"),m.textContent=t.getDesc(),h.textContent="1/2/abc",u.appendChild(m),u.appendChild(h),e.appendChild(a),e.appendChild(u),e}function n(){this.classList.toggle("done")}function i(t){if(function(t){let e=0;for(let n of t.tasks)n.index=e,e++}(t),0==t.tasks.length)!function(){let t=document.getElementById("taskSection");t.innerHTML="";let e=document.createElement("div");e.innerHTML='<h2>Hurray you are free. <i class="fas fa-glass-cheers" style="margin-left: 1  em; color: gray;"></i></h2> You may want to delete this project, or consider adding more tasks if not finished <i class="far fa-laugh-beam"></i> . Best of Luck.<br><br><br>',t.appendChild(e)}();else{let n=document.getElementById("taskSection");n.innerHTML="";for(let i of t.tasks){let t=e(i);n.appendChild(t)}}}class a{constructor(t,e){this.projectName=t,this.tasks=[],this.index=e}getName(){return this.projectName}setName(t){this.projectName=t}addTodo(t){this.tasks.add(t)}}var s=[];function l(t){if(t>=0&&t<s.length)return s[t]}function o(){return s}function d(){let t=document.getElementById("projects");0==s.length?document.getElementById("selectedProjectName").textContent="No Project":r(s[0],0),t.innerHTML="";let e=0;for(let t of s){let n=c(t,e);e++,document.getElementById("projects").appendChild(n)}}function c(t,e){let n=document.createElement("div");n.textContent=t.getName(),n.setAttribute("data",e),n.classList.add("project"),n.onclick=function(){r(t,t.index)};let i=document.createElement("span");i.classList.add("trash"),i.onclick=function(){var t;t=e,s.splice(t,1),function(){let t=0;for(let e of s)e.index=t,t++}(),d()};let a=document.createElement("i");return a.classList.add("far"),a.classList.add("fa-trash-alt"),i.appendChild(a),n.appendChild(i),n}function r(t,e){if(null!=t&&null!=t||(t=l(e)),null!=e&&null!=e||(e=s.indexOf(t)),s.length>0&&s[e]==t){let n=document.getElementById("selectedProjectName");document.getElementById("showTaskForm").setAttribute("data",e),n.textContent=t.getName(),n.setAttribute("data",e),i(t)}}function u(e,n,i,a){let l=s[a],o=l.tasks.length,d=new t(e,n,i,o);l.tasks.push(d),r(l,a)}function m(){document.getElementById("input-todo").style.visibility="hidden"}!function(){let t=new a("Sample Project 1",0);s.push(t),u("Sample Task 1","This is a short and sweet description for the task","low",0),u("Sample Task 2","This is a short and sweet description for the task","medium",0),u("Sample Task 3","Description is optional","high",0),u("Sample Task 4","","Priority",0)}(),s.push(new a("Pro2",s.length)),s.push(new a("Pro3",s.length)),d(),document.getElementById("createProject").onclick=function(){let t=o(),e=document.getElementById("formProjectName");if(""==e.value)alert("Give your valuable project a name. Get creative");else{let n=new a(e.value,t.length);r(n),e.value="",t.push(n),d()}},document.getElementById("showTaskForm").onclick=function(){document.getElementById("input-todo").style.visibility="visible";let t=document.getElementById("showTaskForm").getAttribute("data");document.getElementById("submitForm").setAttribute("data",t)},document.getElementById("cancelForm").onclick=m,document.getElementById("submitForm").onclick=function(){let t=document.getElementById("taskNameInput"),e=document.getElementById("taskDescInput"),n=document.getElementById("priority");u(t.value,e.value,n.value,this.getAttribute("data")),function(){let t=document.getElementById("taskNameInput"),e=document.getElementById("taskDescInput"),n=document.getElementById("priority");e.value="",t.value="",n.value="low"}(),m()}})();