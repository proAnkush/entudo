(()=>{"use strict";class t{constructor(t,e,n,i){this.task=t,this.description=e,this.priority=n,this.index=i,this.done=!1}getTaskName(){return this.task}getDesc(){return this.description}getPriority(){return this.priority}setTaskName(t){this.task=t}setDesc(t){this.description=t}setPriority(t){this.priority=t}}function e(t){let e=document.createElement("table");e.classList.add("taskTable");let s=document.createElement("tr"),l=document.createElement("th"),c=document.createElement("th");c.setAttribute("data",t.index),l.classList.add("taskName"),c.classList.add("taskPriority"),l.innerHTML=t.getTaskName()+'<i class="far fa-calendar-times"></i>';let r=l.lastChild;r.setAttribute("data",t.index),r.addEventListener("click",(function(){event.stopPropagation(),function(t){let e=t,n=d(document.getElementById("selectedProjectName").getAttribute("data"));e<n.tasks.length&&n.tasks.splice(e,1),a(n),n.tasks.length>=1&&(h()?"complete"!=document.getElementById("taskSection").lastChild.getAttribute("id")&&document.getElementById("taskSection").appendChild(i()):"complete"==document.getElementById("taskSection").lastChild.getAttribute("id")&&document.getElementById("taskSection").lastChild.remove())}(t.index)})),c.textContent=t.getPriority(),c.classList.add(t.getPriority()),c.onclick=function(){!function(t){"low"==t.priority?t.priority="medium":"medium"==t.priority?t.priority="high":t.priority="low";let e=document.getElementById("selectedProjectName").getAttribute("data");m(o()[e],e)}(t)},l.onclick=n,s.appendChild(l),s.appendChild(c);let u=document.createElement("tr"),p=document.createElement("td"),g=document.createElement("td");return p.classList.add("taskDesc"),g.classList.add("date"),p.textContent=t.getDesc(),g.textContent="1/2/abc",function(t){d(document.getElementById("selectedProjectName").getAttribute("data")).tasks[t.lastChild.getAttribute("data")].done?t.classList.add("done"):t.classList.remove("done")}(l),u.appendChild(p),u.appendChild(g),e.appendChild(s),e.appendChild(u),e}function n(){let t=d(document.getElementById("selectedProjectName").getAttribute("data")).tasks[this.lastChild.getAttribute("data")];t.done=!t.done,1==t.done?(this.classList.add("done"),h()&&"complete"!=document.getElementById("taskSection").lastChild.getAttribute("id")&&document.getElementById("taskSection").appendChild(i())):(this.classList.remove("done"),h()||(console.log(document.getElementById("taskSection").lastChild),"complete"==document.getElementById("taskSection").lastChild.getAttribute("id")&&document.getElementById("taskSection").lastChild.remove()))}function i(){let t=document.createElement("div");t.setAttribute("id","complete");let e=document.createElement("i");e.classList.add("fas"),e.classList.add("fa-mug-hot"),e.style.fontSize="2em",t.appendChild(e);let n=document.createElement("p");return n.textContent="Looks like you completed all the pending tasks, Delete the tasks to keep everything clean",t.appendChild(n),t}function a(t){if(function(t){let e=0;for(let n of t.tasks)n.index=e,e++}(t),0==t.tasks.length)!function(){let t=document.getElementById("taskSection");t.innerHTML="";let e=document.createElement("div");e.innerHTML='<h2>Hurray you are free. <i class="fas fa-glass-cheers" style="margin-left: 1  em; color: gray;"></i></h2> You may want to delete this project, or consider adding more tasks if not finished <i class="far fa-laugh-beam"></i> . Best of Luck.<br><br><br>',t.appendChild(e)}();else{let n=document.getElementById("taskSection");n.innerHTML="";for(let i of t.tasks){let t=e(i);n.appendChild(t)}}}class s{constructor(t,e){this.projectName=t,this.tasks=[],this.index=e}getName(){return this.projectName}setName(t){this.projectName=t}addTodo(t){this.tasks.add(t)}}var l=[];function d(t){if(t>=0&&t<l.length)return l[t]}function o(){return l}function c(){let t=document.getElementById("projects");0==l.length?document.getElementById("selectedProjectName").textContent="No Project":m(l[0],0),t.innerHTML="";let e=0;for(let t of l){let n=r(t,e);e++,document.getElementById("projects").appendChild(n)}}function r(t,e){let n=document.createElement("div");n.textContent=t.getName(),n.setAttribute("data",e),n.classList.add("project"),n.onclick=function(){m(t,t.index)};let i=document.createElement("span");i.classList.add("trash"),i.onclick=function(){var t;t=e,l.splice(t,1),function(){let t=0;for(let e of l)e.index=t,t++}(),c()};let a=document.createElement("i");return a.classList.add("far"),a.classList.add("fa-trash-alt"),i.appendChild(a),n.appendChild(i),n}function m(t,e){if(null!=t&&null!=t||(t=d(e)),null!=e&&null!=e||(e=l.indexOf(t)),l.length>0&&l[e]==t){let n=document.getElementById("selectedProjectName");document.getElementById("showTaskForm").setAttribute("data",e),n.textContent=t.getName(),n.setAttribute("data",e),a(t)}}function u(e,n,i,a){let s=l[a],d=s.tasks.length,o=new t(e,n,i,d);s.tasks.push(o),m(s,a)}function h(){let t=l[document.getElementById("selectedProjectName").getAttribute("data")];for(let e of t.tasks)if(0==e.done)return!1;return!0}function p(){document.getElementById("input-todo").style.visibility="hidden"}!function(){let t=new s("Sample Project 1",0);l.push(t),u("Sample Task 1","This is a short and sweet description for the task","low",0),u("Sample Task 2","This is a short and sweet description for the task","medium",0),u("Sample Task 3","Description is optional","high",0),u("Sample Task 4","","Priority",0)}(),l.push(new s("Pro2",l.length)),l.push(new s("Pro3",l.length)),c(),document.getElementById("createProject").onclick=function(){let t=o(),e=document.getElementById("formProjectName");if(""==e.value)alert("Give your valuable project a name. Get creative");else{let n=new s(e.value,t.length);m(n),e.value="",t.push(n),c()}},document.getElementById("showTaskForm").onclick=function(){document.getElementById("input-todo").style.visibility="visible";let t=document.getElementById("showTaskForm").getAttribute("data");document.getElementById("submitForm").setAttribute("data",t)},document.getElementById("cancelForm").onclick=p,document.getElementById("submitForm").onclick=function(){let t=document.getElementById("taskNameInput"),e=document.getElementById("taskDescInput"),n=document.getElementById("priority"),i=t.value,a=e.value,s=n.value,l=this.getAttribute("data");!function(t,e){let n=d(e);if(""==t)return!1;if(t.length>25)return!1;if(null==t||null==t)return!1;for(let e of n.tasks)if(e.getTaskName()==t)return!1;return!0}(i,l)?alert("Task name should be unique, non-empty, should have less than 25 characters and optionally amazing."):(u(i,a,s,l),function(){let t=document.getElementById("taskNameInput"),e=document.getElementById("taskDescInput"),n=document.getElementById("priority");e.value="",t.value="",n.value="low"}(),p())}})();